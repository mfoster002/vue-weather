{"ast":null,"code":"import \"core-js/modules/esnext.iterator.map.js\";\nimport { Bar } from 'vue-chartjs';\nimport { Chart as ChartJS, Title, Tooltip, Legend, BarElement, CategoryScale, LinearScale } from 'chart.js';\nChartJS.register(Title, Tooltip, Legend, BarElement, CategoryScale, LinearScale);\nexport default {\n  name: 'HourlyForecast',\n  components: {\n    Bar\n  },\n  props: {\n    location: {\n      type: String,\n      required: true\n    },\n    lat: {\n      type: String,\n      required: true\n    },\n    lon: {\n      type: String,\n      required: true\n    }\n  },\n  data() {\n    return {\n      hourlyData: [],\n      chartData: {\n        labels: [],\n        datasets: []\n      },\n      chartOptions: {\n        responsive: true,\n        scales: {\n          y: {\n            beginAtZero: true\n          }\n        }\n      },\n      errorMessage: ''\n    };\n  },\n  watch: {\n    location: {\n      immediate: true,\n      handler() {\n        this.fetchHourlyData();\n      }\n    }\n  },\n  methods: {\n    fetchHourlyData() {\n      console.log('Fetching hourly data for:', this.location);\n      const apiKey = '4df475f18aaaf4aba5fb2eb54246d4f8';\n      const url = `https://api.openweathermap.org/data/2.5/forecast?lat=${this.lat}&lon=${this.lon}&units=imperial&appid=${apiKey}`;\n      fetch(url).then(res => res.json()).then(data => {\n        if (data.cod !== '200' || !data.list) {\n          this.errorMessage = 'Unable to fetch hourly data.';\n          console.log('Error fetching data:', data.message);\n          return;\n        }\n        console.log('Hourly data fetched:', data);\n        this.hourlyData = data.list.slice(0, 12).map(item => ({\n          dt: item.dt,\n          temp: item.main.temp,\n          time: new Date(item.dt * 1000).toLocaleTimeString()\n        }));\n        this.updateChartData();\n      }).catch(err => {\n        this.errorMessage = 'Error fetching hourly data.';\n        console.error(err);\n      });\n    },\n    updateChartData() {\n      this.chartData.labels = this.hourlyData.map(data => data.time);\n      this.chartData.datasets = [{\n        label: 'Temperature (°F)',\n        data: this.hourlyData.map(data => data.temp),\n        backgroundColor: 'rgba(75, 192, 192, 0.6)'\n      }];\n    },\n    goBack() {\n      this.$router.go(-1);\n    }\n  }\n};","map":{"version":3,"names":["Bar","Chart","ChartJS","Title","Tooltip","Legend","BarElement","CategoryScale","LinearScale","register","name","components","props","location","type","String","required","lat","lon","data","hourlyData","chartData","labels","datasets","chartOptions","responsive","scales","y","beginAtZero","errorMessage","watch","immediate","handler","fetchHourlyData","methods","console","log","apiKey","url","fetch","then","res","json","cod","list","message","slice","map","item","dt","temp","main","time","Date","toLocaleTimeString","updateChartData","catch","err","error","label","backgroundColor","goBack","$router","go"],"sources":["/Users/marianfoster/vue-weather/src/views/HourlyForecast.vue"],"sourcesContent":["<template>\n  <div class=\"hourly-forecast-card\">\n    <h2>Hourly Forecast for {{ location }}</h2>\n    <div v-if=\"errorMessage\" class=\"error-message\">{{ errorMessage }}</div>\n    <div class=\"chart-container\" v-if=\"hourlyData.length\">\n      <Bar :data=\"chartData\" :options=\"chartOptions\" />\n    </div>\n    <p v-else>No hourly data available.</p>\n    <button class=\"go-back-btn\" @click=\"goBack\">Go Back</button>\n  </div>\n</template>\n\n<script>\nimport { Bar } from 'vue-chartjs';\nimport { Chart as ChartJS, Title, Tooltip, Legend, BarElement, CategoryScale, LinearScale } from 'chart.js';\n\nChartJS.register(Title, Tooltip, Legend, BarElement, CategoryScale, LinearScale);\n\nexport default {\n  name: 'HourlyForecast',\n  components: {\n    Bar,\n  },\n  props: {\n    location: {\n      type: String,\n      required: true\n    },\n    lat: {\n      type: String,\n      required: true\n    },\n    lon: {\n      type: String,\n      required: true\n    }\n  },\n  data() {\n    return {\n      hourlyData: [],\n      chartData: { labels: [], datasets: [] },\n      chartOptions: { responsive: true, scales: { y: { beginAtZero: true } } },\n      errorMessage: ''\n    };\n  },\n  watch: {\n    location: {\n      immediate: true,\n      handler() {\n        this.fetchHourlyData();\n      },\n    },\n  },\n  methods: {\n    fetchHourlyData() {\n      console.log('Fetching hourly data for:', this.location);\n      const apiKey = '4df475f18aaaf4aba5fb2eb54246d4f8';\n      const url = `https://api.openweathermap.org/data/2.5/forecast?lat=${this.lat}&lon=${this.lon}&units=imperial&appid=${apiKey}`;\n      \n      fetch(url)\n        .then((res) => res.json())\n        .then((data) => {\n          if (data.cod !== '200' || !data.list) {\n            this.errorMessage = 'Unable to fetch hourly data.';\n            console.log('Error fetching data:', data.message);\n            return;\n          }\n          console.log('Hourly data fetched:', data);\n          this.hourlyData = data.list.slice(0, 12).map((item) => ({\n            dt: item.dt,\n            temp: item.main.temp,\n            time: new Date(item.dt * 1000).toLocaleTimeString(),\n          }));\n          this.updateChartData();\n        })\n        .catch((err) => {\n          this.errorMessage = 'Error fetching hourly data.';\n          console.error(err);\n        });\n    },\n    updateChartData() {\n      this.chartData.labels = this.hourlyData.map((data) => data.time);\n      this.chartData.datasets = [\n        {\n          label: 'Temperature (°F)',\n          data: this.hourlyData.map((data) => data.temp),\n          backgroundColor: 'rgba(75, 192, 192, 0.6)',\n        },\n      ];\n    },\n    goBack() {\n      this.$router.go(-1);\n    },\n  },\n};\n</script>\n\n<style scoped>\n.hourly-forecast-card {\n  background-color: rgba(255, 255, 255, 0.9);\n  border-radius: 8px;\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n  padding: 20px;\n  text-align: center;\n}\n\n.go-back-btn {\n  margin-top: 20px;\n  padding: 10px 20px;\n  background-color: #008CBA;\n  color: white;\n  border: none;\n  border-radius: 5px;\n}\n\n.error-message {\n  color: red;\n  margin-top: 20px;\n}\n\n.chart-container {\n  margin-top: 20px;\n}\n</style>\n\n\n\n\n\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}