{"ast":null,"code":"import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, createBlock as _createBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"hourly-forecast-container\"\n};\nconst _hoisted_2 = {\n  key: 0,\n  class: \"error-message\"\n};\nconst _hoisted_3 = {\n  key: 2\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_Bar = _resolveComponent(\"Bar\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"h2\", null, \"Hourly Forecast for \" + _toDisplayString($props.location), 1 /* TEXT */), $data.errorMessage ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, _toDisplayString($data.errorMessage), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true), $data.hourlyData.length ? (_openBlock(), _createBlock(_component_Bar, {\n    key: 1,\n    data: $data.chartData,\n    options: $data.chartOptions\n  }, null, 8 /* PROPS */, [\"data\", \"options\"])) : (_openBlock(), _createElementBlock(\"p\", _hoisted_3, \"No hourly data available.\")), _createElementVNode(\"button\", {\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.goBack && $options.goBack(...args))\n  }, \"Go Back\")]);\n}","map":{"version":3,"names":["class","key","_createElementBlock","_hoisted_1","_createElementVNode","_toDisplayString","$props","location","$data","errorMessage","_hoisted_2","_createCommentVNode","hourlyData","length","_createBlock","_component_Bar","data","chartData","options","chartOptions","_hoisted_3","onClick","_cache","args","$options","goBack"],"sources":["/Users/marianfoster/vue-weather/src/views/HourlyForecast.vue"],"sourcesContent":["<template>\n  <div class=\"hourly-forecast-container\">\n    <h2>Hourly Forecast for {{ location }}</h2>\n    <div v-if=\"errorMessage\" class=\"error-message\">{{ errorMessage }}</div>\n    <Bar :data=\"chartData\" :options=\"chartOptions\" v-if=\"hourlyData.length\" />\n    <p v-else>No hourly data available.</p>\n    <button @click=\"goBack\">Go Back</button>\n  </div>\n</template>\n\n<script>\nimport { Bar } from 'vue-chartjs';\nimport { Chart as ChartJS, Title, Tooltip, Legend, BarElement, CategoryScale, LinearScale } from 'chart.js';\n\nChartJS.register(Title, Tooltip, Legend, BarElement, CategoryScale, LinearScale);\n\nexport default {\n  name: 'HourlyForecast',\n  components: { Bar },\n  props: {\n    location: { type: String, required: true },\n    lat: { type: Number, required: true },\n    lon: { type: Number, required: true }\n  },\n  data() {\n    return {\n      hourlyData: [],\n      chartData: { labels: [], datasets: [] },\n      chartOptions: { responsive: true, scales: { y: { beginAtZero: true } } },\n      errorMessage: ''\n    };\n  },\n  watch: {\n    location: {\n      immediate: true,\n      handler() {\n        this.fetchHourlyData();\n      },\n    },\n  },\n  methods: {\n    fetchHourlyData() {\n      const apiKey = '4df475f18aaaf4aba5fb2eb54246d4f8'; // Replace with your actual API key\n      const url = `https://pro.openweathermap.org/data/2.5/forecast/hourly?lat=${this.lat}&lon=${this.lon}&appid=${apiKey}`;\n      fetch(url)\n        .then((res) => res.json())\n        .then((data) => {\n          if (data.cod !== '200') {\n            this.errorMessage = 'Unable to fetch hourly data.';\n            return;\n          }\n          this.hourlyData = data.list.map((item) => ({\n            date: new Date(item.dt * 1000).toLocaleTimeString(),\n            temp: item.main.temp,\n          }));\n          this.updateChartData();\n        })\n        .catch((err) => {\n          this.errorMessage = 'Error fetching hourly data.';\n          console.error(err);\n        });\n    },\n    updateChartData() {\n      this.chartData.labels = this.hourlyData.map((data) => new Date(data.dt * 1000).toLocaleTimeString());\n      this.chartData.datasets = [\n        {\n          label: 'Temperature (Â°F)',\n          data: this.hourlyData.map((data) => data.temp),\n          backgroundColor: 'rgba(75, 192, 192, 0.6)',\n        },\n      ];\n    },\n    goBack() {\n      this.$router.go(-1);\n    },\n  },\n};\n</script>\n\n<style scoped>\n.hourly-forecast-container {\n  padding: 20px;\n  text-align: center;\n}\n\n.error-message {\n  color: red;\n  margin-top: 20px;\n}\n</style>\n\n\n\n"],"mappings":";;EACOA,KAAK,EAAC;AAA2B;;EADxCC,GAAA;EAG6BD,KAAK,EAAC;;;EAHnCC,GAAA;AAAA;;;uBACEC,mBAAA,CAMM,OANNC,UAMM,GALJC,mBAAA,CAA2C,YAAvC,sBAAoB,GAAAC,gBAAA,CAAGC,MAAA,CAAAC,QAAQ,kBACxBC,KAAA,CAAAC,YAAY,I,cAAvBP,mBAAA,CAAuE,OAAvEQ,UAAuE,EAAAL,gBAAA,CAArBG,KAAA,CAAAC,YAAY,oBAHlEE,mBAAA,gBAIyDH,KAAA,CAAAI,UAAU,CAACC,MAAM,I,cAAtEC,YAAA,CAA0EC,cAAA;IAJ9Ed,GAAA;IAIUe,IAAI,EAAER,KAAA,CAAAS,SAAS;IAAGC,OAAO,EAAEV,KAAA,CAAAW;iEACjCjB,mBAAA,CAAuC,KAL3CkB,UAAA,EAKc,2BAAyB,IACnChB,mBAAA,CAAwC;IAA/BiB,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,QAAA,CAAAC,MAAA,IAAAD,QAAA,CAAAC,MAAA,IAAAF,IAAA,CAAM;KAAE,SAAO,E","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}