{"ast":null,"code":"import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"hourly-forecast-container\"\n};\nconst _hoisted_2 = {\n  key: 1\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_Bar = _resolveComponent(\"Bar\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"h2\", null, \"Hourly Forecast for \" + _toDisplayString($props.location), 1 /* TEXT */), $data.hourlyData.length ? (_openBlock(), _createBlock(_component_Bar, {\n    key: 0,\n    data: $data.chartData,\n    options: $data.chartOptions\n  }, null, 8 /* PROPS */, [\"data\", \"options\"])) : (_openBlock(), _createElementBlock(\"p\", _hoisted_2, \"No hourly data available.\")), _createElementVNode(\"button\", {\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.goBack && $options.goBack(...args))\n  }, \"Back\")]);\n}","map":{"version":3,"names":["class","key","_createElementBlock","_hoisted_1","_createElementVNode","_toDisplayString","$props","location","$data","hourlyData","length","_createBlock","_component_Bar","data","chartData","options","chartOptions","_hoisted_2","onClick","_cache","args","$options","goBack"],"sources":["/Users/marianfoster/vue-weather/src/views/HourlyForecast.vue"],"sourcesContent":["<template>\n  <div class=\"hourly-forecast-container\">\n    <h2>Hourly Forecast for {{ location }}</h2>\n    <Bar :data=\"chartData\" :options=\"chartOptions\" v-if=\"hourlyData.length\" />\n    <p v-else>No hourly data available.</p>\n    <button @click=\"goBack\">Back</button>\n  </div>\n</template>\n\n<script>\nimport { Bar } from 'vue-chartjs';\nimport { Chart as ChartJS, Title, Tooltip, Legend, BarElement, CategoryScale, LinearScale } from 'chart.js';\n\nChartJS.register(Title, Tooltip, Legend, BarElement, CategoryScale, LinearScale);\n\nexport default {\n  name: 'HourlyForecast',\n  components: { Bar },\n  props: { location: { type: String, required: true } },\n  data() {\n    return {\n      hourlyData: [],\n      chartData: { labels: [], datasets: [] },\n      chartOptions: { responsive: true, scales: { y: { beginAtZero: true } } },\n    };\n  },\n  watch: {\n    location: {\n      immediate: true,\n      handler() {\n        this.fetchHourlyData();\n      },\n    },\n  },\n  methods: {\n    fetchHourlyData() {\n      const apiKey = '6c07b7050c30876a4e88cfbb4dee8dc3';\n      // Replace the lat and lon with dynamic values if needed\n      const lat = 51.5085;\n      const lon = -0.1257;\n      const url = `https://api.openweathermap.org/data/2.5/onecall?lat=${lat}&lon=${lon}&units=imperial&exclude=current,minutely,daily,alerts&appid=${apiKey}`;\n      fetch(url)\n        .then((res) => res.json())\n        .then((data) => {\n          this.hourlyData = data.hourly;\n          this.updateChartData();\n        })\n        .catch((err) => console.error('Error fetching hourly data:', err));\n    },\n    updateChartData() {\n      this.chartData.labels = this.hourlyData.map((data) => new Date(data.dt * 1000).toLocaleTimeString());\n      this.chartData.datasets = [\n        {\n          label: 'Temperature (Â°F)',\n          data: this.hourlyData.map((data) => data.temp),\n          backgroundColor: 'rgba(75, 192, 192, 0.6)',\n        },\n        {\n          label: 'Rain (mm)',\n          data: this.hourlyData.map((data) => (data.rain ? data.rain['1h'] : 0)),\n          backgroundColor: 'rgba(54, 162, 235, 0.6)',\n        },\n      ];\n    },\n    goBack() {\n      this.$router.go(-1);\n    },\n  },\n};\n</script>\n\n<style scoped>\n.hourly-forecast-container {\n  padding: 20px;\n  text-align: center;\n}\n</style>\n"],"mappings":";;EACOA,KAAK,EAAC;AAA2B;;EADxCC,GAAA;AAAA;;;uBACEC,mBAAA,CAKM,OALNC,UAKM,GAJJC,mBAAA,CAA2C,YAAvC,sBAAoB,GAAAC,gBAAA,CAAGC,MAAA,CAAAC,QAAQ,kBACkBC,KAAA,CAAAC,UAAU,CAACC,MAAM,I,cAAtEC,YAAA,CAA0EC,cAAA;IAH9EX,GAAA;IAGUY,IAAI,EAAEL,KAAA,CAAAM,SAAS;IAAGC,OAAO,EAAEP,KAAA,CAAAQ;iEACjCd,mBAAA,CAAuC,KAJ3Ce,UAAA,EAIc,2BAAyB,IACnCb,mBAAA,CAAqC;IAA5Bc,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,QAAA,CAAAC,MAAA,IAAAD,QAAA,CAAAC,MAAA,IAAAF,IAAA,CAAM;KAAE,MAAI,E","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}